<div class="container">
  <h2>Admin Page</h2>
  
  <div class="error-message" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>
  
  <h3>All Users</h3>
  
  <h4>Admins</h4>
  <ul>
    <ng-container *ngFor="let user of users">
      <li *ngIf="user.role === 'admin'">
        {{ user.username }} ({{ user.email }})
        <button *ngIf="user.active" (click)="deactivateUser(user.id)">Deactivate</button>
        <button *ngIf="!user.active" (click)="activateUser(user.id)">Activate</button>
      </li>
    </ng-container>
  </ul>
  
  <h4>Customers</h4>
  <ul>
    <ng-container *ngFor="let user of users">
      <li *ngIf="user.role === 'customer'">
        {{ user.username }} ({{ user.email }})
        <button *ngIf="user.active" (click)="deactivateUser(user.id)">Deactivate</button>
        <button *ngIf="!user.active" (click)="activateUser(user.id)">Activate</button>
      </li>
    </ng-container>
  </ul>

  <h3>Add New User</h3>
  <form (ngSubmit)="addUser()">
    <div>
      <label for="username">Username:</label>
      <input type="text" id="username" [(ngModel)]="newUser.username" name="username" required>
    </div>
    <div>
      <label for="password">Password:</label>
      <input type="password" id="password" [(ngModel)]="newUser.password" name="password" required>
    </div>
    <div>
      <label for="firstName">First Name:</label>
      <input type="text" id="firstName" [(ngModel)]="newUser.firstName" name="firstName" required>
    </div>
    <div>
      <label for="lastName">Last Name:</label>
      <input type="text" id="lastName" [(ngModel)]="newUser.lastName" name="lastName" required>
    </div>
    <div>
      <label for="email">Email:</label>
      <input type="email" id="email" [(ngModel)]="newUser.email" name="email" required>
    </div>
    <div>
      <label for="mobile">Mobile:</label>
      <input type="text" id="mobile" [(ngModel)]="newUser.mobile" name="mobile" required>
    </div>
    <div>
      <label for="role">Role:</label>
      <select id="role" [(ngModel)]="newUser.role" name="role" required>
        <option value="admin">Admin</option>
        <option value="customer">Customer</option>
      </select>
    </div>
    <button type="submit">Add User</button>
  </form>
</div>
